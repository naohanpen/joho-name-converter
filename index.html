<!DOCTYPE html>
<html lang="ja">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=yes" />
<meta charset="utf-8" />
<link rel="stylesheet"  href="style.css">
<title>情報 名前を変換するツール</title>
<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
  <script>
    console.log( "v0.0.1" );
    function convertName() {
      var userinput = document.getElementById("exampleFormControlInput1").value;
      var caseBox = new Array();
      caseBox[ "a" ] = "61",
      caseBox[ "b" ] =  "62",
      caseBox[ "c" ] =  "63",
      caseBox[ "d" ] =  "64",
      caseBox[ "e" ] =  "65",
      caseBox[ "f" ] =  "66",
      caseBox[ "g" ] =  "67",
      caseBox[ "h" ] =  "68",
      caseBox[ "i" ] =  "69",
      caseBox[ "j" ] =  "6A",
      caseBox[ "k" ] =  "6B",
      caseBox[ "l" ] =  "6C",
      caseBox[ "m" ] =  "6D",
      caseBox[ "n" ] =  "6E",
      caseBox[ "o" ] =  "6F",
      caseBox[ "p" ] =  "70",
      caseBox[ "q" ] =  "71",
      caseBox[ "r" ] =  "72",
      caseBox[ "s" ] =  "73",
      caseBox[ "t" ] =  "74",
      caseBox[ "u" ] =  "75",
      caseBox[ "v" ] =  "76",
      caseBox[ "w" ] =  "77",
      caseBox[ "x" ] =  "78",
      caseBox[ "y" ] =  "79",
      caseBox[ "z" ] =  "7A";
      userinput = zenkaku2Hankaku( userinput.toLowerCase() );
      var userinputArray = userinput.split('');
      var convertedName = "";
      var canoutput = true;
      userinputArray.forEach(function(elem, index) {
          if( caseBox[ elem ] ){
            convertedName = convertedName + caseBox[ elem ];
          }else{
            //error
            document.getElementById("output").innerHTML = '<div class="alert alert-warning" role="alert">変換できない文字が含まれています。名前のみをローマ字で入力してください。(全角や大文字で入力しても自動で半角の小文字に変換されます。)</div>';
            convertedName = convertedName + "XX";
            canoutput = false;
            console.log( "error:" + convertedName );
          }
      });
      console.log( convertedName );
      if( canoutput === true ){
        document.getElementById("output").innerHTML = '<div class="alert alert-primary" role="alert">変換結果: ' + convertedName + '</div>';
      }
      return convertedName;
    }
    function zenkaku2Hankaku(str) {
        return str.replace(/[Ａ-Ｚａ-ｚ０-９]/g, function(s) {
            return String.fromCharCode(s.charCodeAt(0) - 0xFEE0);
        });
    }
  </script>
</head>
<body>
<main>
    
<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
  <div class="container-fluid">
    <p class="navbar-brand mb-0">名前を変換するツール</p>
  </div>
</nav>

<main class="container">
  <p>時間がなかったので、github 上での公開になります💦</p>
  <div class="mb-3 mt-4">
    <label for="exampleFormControlInput1" class="form-label">名前</label>
    <input type="email" class="form-control" id="exampleFormControlInput1" placeholder="taroh" aria-describedby="inputHelp">
    <div id="inputHelp" class="form-text">名前のみをローマ字で入力してくださ</div>
  </div>
  <button type="submit" class="btn btn-primary" onclick="convertName();">変換</button>
  <div class="mt-2" id="output"></div>
</main><!-- /.container -->
</main>
</body>
</html>
